language: ruby
rvm:
  - 2.2

cache:
  bundler: true  # Doesn't seem to work
  directories:
  - node_modules 

before_install:
  - nvm install 6
install:
  - bundle install
  - npm install

before_script:
  - git config --global user.name "Travis-CI"
  - git config --global user.email "noreply@travis-ci.org"

script:
  - grunt deploy

branches:
  only:
    - source
